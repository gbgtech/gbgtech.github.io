(function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},b=[].slice;!function(a,b){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(c){return b(c,a)}):b(a.jQuery,a)}(this,function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return e=c(d),l=a.call(d,"ontouchstart")>=0,h={horizontal:{},vertical:{}},i=1,k={},j="waypoints-context-id",o="resize.waypoints",p="scroll.waypoints",q=1,r="waypoints-waypoint-ids",s="waypoint",t="waypoints",f=function(){function a(a){var b=this;this.$element=a,this.element=a[0],this.didResize=!1,this.didScroll=!1,this.id="context"+i++,this.oldScroll={x:a.scrollLeft(),y:a.scrollTop()},this.waypoints={horizontal:{},vertical:{}},a.data(j,this.id),k[this.id]=this,a.bind(p,function(){var a;return b.didScroll||l?void 0:(b.didScroll=!0,a=function(){return b.doScroll(),b.didScroll=!1},d.setTimeout(a,c[t].settings.scrollThrottle))}),a.bind(o,function(){var a;return b.didResize?void 0:(b.didResize=!0,a=function(){return c[t]("refresh"),b.didResize=!1},d.setTimeout(a,c[t].settings.resizeThrottle))})}return a.prototype.doScroll=function(){var a,b=this;return a={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!l||a.vertical.oldScroll&&a.vertical.newScroll||c[t]("refresh"),c.each(a,function(a,d){var e,f,g;return g=[],f=d.newScroll>d.oldScroll,e=f?d.forward:d.backward,c.each(b.waypoints[a],function(a,b){var c,e;return d.oldScroll<(c=b.offset)&&c<=d.newScroll?g.push(b):d.newScroll<(e=b.offset)&&e<=d.oldScroll?g.push(b):void 0}),g.sort(function(a,b){return a.offset-b.offset}),f||g.reverse(),c.each(g,function(a,b){return b.options.continuous||a===g.length-1?b.trigger([e]):void 0})}),this.oldScroll={x:a.horizontal.newScroll,y:a.vertical.newScroll}},a.prototype.refresh=function(){var a,b,d,e=this;return d=c.isWindow(this.element),b=this.$element.offset(),this.doScroll(),a={horizontal:{contextOffset:d?0:b.left,contextScroll:d?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:d?0:b.top,contextScroll:d?0:this.oldScroll.y,contextDimension:d?c[t]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},c.each(a,function(a,b){return c.each(e.waypoints[a],function(a,d){var e,f,g,h,i;return e=d.options.offset,g=d.offset,f=c.isWindow(d.element)?0:d.$element.offset()[b.offsetProp],c.isFunction(e)?e=e.apply(d.element):"string"==typeof e&&(e=parseFloat(e),d.options.offset.indexOf("%")>-1&&(e=Math.ceil(b.contextDimension*e/100))),d.offset=f-b.contextOffset+b.contextScroll-e,d.options.onlyOnScroll&&null!=g||!d.enabled?void 0:null!==g&&g<(h=b.oldScroll)&&h<=d.offset?d.trigger([b.backward]):null!==g&&g>(i=b.oldScroll)&&i>=d.offset?d.trigger([b.forward]):null===g&&b.oldScroll>=d.offset?d.trigger([b.forward]):void 0})})},a.prototype.checkEmpty=function(){return c.isEmptyObject(this.waypoints.horizontal)&&c.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([o,p].join(" ")),delete k[this.id]):void 0},a}(),g=function(){function a(a,b,d){var e,f;d=c.extend({},c.fn[s].defaults,d),"bottom-in-view"===d.offset&&(d.offset=function(){var a;return a=c[t]("viewportHeight"),c.isWindow(b.element)||(a=b.$element.height()),a-c(this).outerHeight()}),this.$element=a,this.element=a[0],this.axis=d.horizontal?"horizontal":"vertical",this.callback=d.handler,this.context=b,this.enabled=d.enabled,this.id="waypoints"+q++,this.offset=null,this.options=d,b.waypoints[this.axis][this.id]=this,h[this.axis][this.id]=this,e=null!=(f=a.data(r))?f:[],e.push(this.id),a.data(r,e)}return a.prototype.trigger=function(a){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,a),this.options.triggerOnce?this.destroy():void 0):void 0},a.prototype.disable=function(){return this.enabled=!1},a.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},a.prototype.destroy=function(){return delete h[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},a.getWaypointsByElement=function(a){var b,d;return(d=c(a).data(r))?(b=c.extend({},h.horizontal,h.vertical),c.map(d,function(a){return b[a]})):[]},a}(),n={init:function(a,b){var d;return null==b&&(b={}),null==(d=b.handler)&&(b.handler=a),this.each(function(){var a,d,e,h;return a=c(this),e=null!=(h=b.context)?h:c.fn[s].defaults.context,c.isWindow(e)||(e=a.closest(e)),e=c(e),d=k[e.data(j)],d||(d=new f(e)),new g(a,d,b)}),c[t]("refresh"),this},disable:function(){return n._invoke(this,"disable")},enable:function(){return n._invoke(this,"enable")},destroy:function(){return n._invoke(this,"destroy")},prev:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b>0?a.push(c[b-1]):void 0})},next:function(a,b){return n._traverse.call(this,a,b,function(a,b,c){return b<c.length-1?a.push(c[b+1]):void 0})},_traverse:function(a,b,e){var f,g;return null==a&&(a="vertical"),null==b&&(b=d),g=m.aggregate(b),f=[],this.each(function(){var b;return b=c.inArray(this,g[a]),e(f,b,g[a])}),this.pushStack(f)},_invoke:function(a,b){return a.each(function(){var a;return a=g.getWaypointsByElement(this),c.each(a,function(a,c){return c[b](),!0})}),this}},c.fn[s]=function(){var a,d;return d=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],n[d]?n[d].apply(this,a):c.isFunction(d)?n.init.apply(this,arguments):c.isPlainObject(d)?n.init.apply(this,[null,d]):c.error(d?"The "+d+" method does not exist in jQuery Waypoints.":"jQuery Waypoints needs a callback function or handler option.")},c.fn[s].defaults={context:d,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},m={refresh:function(){return c.each(k,function(a,b){return b.refresh()})},viewportHeight:function(){var a;return null!=(a=d.innerHeight)?a:e.height()},aggregate:function(a){var b,d,e;return b=h,a&&(b=null!=(e=k[c(a).data(j)])?e.waypoints:void 0),b?(d={horizontal:[],vertical:[]},c.each(d,function(a,e){return c.each(b[a],function(a,b){return e.push(b)}),e.sort(function(a,b){return a.offset-b.offset}),d[a]=c.map(e,function(a){return a.element}),d[a]=c.unique(d[a])}),d):[]},above:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset<=a.oldScroll.y})},below:function(a){return null==a&&(a=d),m._filter(a,"vertical",function(a,b){return b.offset>a.oldScroll.y})},left:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset<=a.oldScroll.x})},right:function(a){return null==a&&(a=d),m._filter(a,"horizontal",function(a,b){return b.offset>a.oldScroll.x})},enable:function(){return m._invoke("enable")},disable:function(){return m._invoke("disable")},destroy:function(){return m._invoke("destroy")},extendFn:function(a,b){return n[a]=b},_invoke:function(a){var b;return b=c.extend({},h.vertical,h.horizontal),c.each(b,function(b,c){return c[a](),!0})},_filter:function(a,b,d){var e,f;return(e=k[c(a).data(j)])?(f=[],c.each(e.waypoints[b],function(a,b){return d(e,b)?f.push(b):void 0}),f.sort(function(a,b){return a.offset-b.offset}),c.map(f,function(a){return a.element})):[]}},c[t]=function(){var a,c;return c=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],m[c]?m[c].apply(null,a):m.aggregate.call(null,c)},c[t].settings={resizeThrottle:100,scrollThrottle:30},e.load(function(){return c[t]("refresh")})})}).call(this),function(a){a.fn.focusWithoutScrolling=function(){var a=window.scrollX,b=window.scrollY;return this.focus(),window.scrollTo(a,b),this},a.fn.pong=function(b,c){function d(a,b,c,d,e){b.x=a?i.width-i.paddleWidth-i.paddleBuffer-i.ballWidth-10:i.paddleWidth+i.paddleBuffer+10,b.y=Math.round(Math.random()*(i.height-e.height())),e.css("left",b.x),e.css("top",b.y),a!=0>Math.cos(i.ballAngle*Math.PI/180)>0&&(i.ballAngle+=180),e.css("visibility","visible")}function e(a,b,c,e,f,g){a?b.playerScore++:b.compScore++,g.html("browser "+b.compScore+" | you "+b.playerScore),b.playerScore==i.playTo||b.compScore==i.playTo?(f.css("visibility","hidden"),b.gameOver=!0,g.append(b.playerScore==i.playTo?"; you win!":"; you lose :(")):d(a,b,c,e,f,g)}function f(a,b,c,d,g,h){if(!a.gameOver){var j=new Date,k=j.valueOf()-a.delay.valueOf()-i.target;a.speed+=k>5?-1:0,a.speed+=-5>k?1:0,a.speed=Math.abs(a.speed),a.delay=j,setTimeout(function(){f(a,b,c,d,g,h)},a.speed);var l=i.ballAngle*Math.PI/180;a.y+=Math.round(i.ballSpeed*Math.sin(l)),a.x+=Math.round(i.ballSpeed*Math.cos(l));var m=180-i.ballAngle,n=0-i.ballAngle,o=parseInt(b.css("top")),p=i.paddleHeight/2+o;if(Math.cos(l)>0||a.x>i.width/(2-a.compAdj/(10*i.difficulty)))var q=i.height/2;else var r=a.y,q=i.ballHeight/2+r;var s=Math.abs(q-p);s>i.compSpeed&&(s=i.compSpeed),q>p?o+=s:o-=s,1>o&&(o=1),o+i.paddleHeight+1>i.height&&(o=i.height-i.paddleHeight-1),b.css("top",o+"px");var t=parseInt(c.css("top"));a.up&&(t-=i.playerSpeed),a.down&&(t+=i.playerSpeed),1>t&&(t=1),t+i.paddleHeight+1>i.height&&(t=i.height-i.paddleHeight-1),c.css("top",t+"px"),a.y<1&&(a.y=1,i.ballAngle=n),a.y>i.height-i.ballHeight&&(a.y=i.height-i.ballHeight,i.ballAngle=n),a.x<1&&(a.x=1,i.ballAngle=m,a.compAdj-=i.difficulty,e(!0,a,b,c,d,g,h)),a.x>i.width-i.ballWidth&&(a.x=i.width-i.ballWidth,i.ballAngle=m,e(!1,a,b,c,d,g,h));var u=i.paddleWidth+i.paddleBuffer;a.x<u&&a.y<i.paddleHeight+o&&a.y+i.ballHeight>o&&(a.x=u,i.ballAngle=m,a.compAdj++);var v=i.width-i.ballWidth-i.paddleWidth-i.paddleBuffer;a.x>v&&a.y<i.paddleHeight+t&&a.y+i.ballHeight>t&&(a.x=v,i.ballAngle=m),d.css("top",a.y),d.css("left",a.x),a.compAdj<0&&(a.compAdj=0)}}function g(b,c,d,g,h,i){b.gameOver&&(a(".fun").css("opacity",0),a(".controls").css("opacity",0),b.gameOver=!1,b.playerScore=-1,b.compScore=-1,setTimeout(function(){f(b,c,d,g,h,i)},b.speed),e(!1,b,c,d,g,h,i),e(!0,b,c,d,g,h,i))}var h={targetSpeed:30,ballAngle:45,ballSpeed:20,compSpeed:18,playerSpeed:18,difficulty:10,width:window.innerWidth,height:window.innerHeight-50,paddleWidth:12,paddleHeight:110,paddleBuffer:18,ballWidth:14,ballHeight:14,playTo:5},i=a.extend(h,c);return this.each(function(){function c(b){switch(b.keyCode){case 38:e.up=!0;break;case 40:e.down=!0;break;case 27:h.children(".ball").css("visibility","hidden"),a(".pong-bat").attr("src","img/racket-01.svg"),a(".pong-game").addClass("hidden"),a(".fun").remove(),a(".field").remove(),a(".leftPaddle").remove(),a(".rightPaddle").remove(),a(".msg").remove(),a(".pong-game img").remove(),e.gameOver=!0}return!1}function d(a){switch(a.keyCode){case 38:e.up=!1;break;case 40:e.down=!1}return!1}var e={up:!1,down:!1,x:0,y:0,compAdj:0,compScore:0,playerScore:0,speed:30,gameOver:!0,delay:new Date},h=a(this);a(".fun").remove(),a(".field").remove(),a(".leftPaddle").remove(),a(".rightPaddle").remove(),a(".msg").remove(),a(".pong-game img").remove(),a(".controls").remove(),h.append('<textarea class="field" style="position:absolute;background:rgba(0,0,0,0.5);border:0;top:-9999; left:-9999; width:0;height0;"></textarea>'),h.append('<div class="leftPaddle" style="position:absolute;background-color:#FDD54E;"></div>'),h.append('<div class="rightPaddle" style="position:absolute;background-color:#2B5FFB;"></div>'),h.append('<img src="'+b+'" class="ball" style="position:absolute;visibility:hidden;">'),h.append('<div class="msg" style="position:absolute; font-size: 16px; color:#fff; bottom: 2px; right: 2px;"></div>'),h.append('<div class="fun"><p>Have some fun<br/><span>Click anywhere to start<br/>Control using arrow keys<br/>Hit ESC to stop</span></p></div>'),h.append('<div class="controls svg-ping-pong-controls"></div>'),h.append('<div class="names svg-ping-pong-logos"></div>');var j=h.children(".leftPaddle"),k=h.children(".rightPaddle"),l=h.children(".ball"),m=h.children(".score"),n=h.children(".msg"),o=h.children(".field");o.keydown(c),o.keyup(d),h.css("width",i.width),h.css("height",i.height),j.css("width",i.paddleWidth),j.css("height",i.paddleHeight),j.css("left",i.paddleBuffer),j.css("top",Math.round(1+Math.random()*(i.height-i.paddleHeight-2))),k.css("width",i.paddleWidth),k.css("height",i.paddleHeight),k.css("left",i.width-i.paddleWidth-i.paddleBuffer),k.css("top",Math.round(1+Math.random()*(i.height-i.paddleHeight-2))),l.css("width",i.ballWidth),l.css("height",i.ballHeight),e.speed=i.targetSpeed,f(e,j,k,l,m,n),h.click(function(){g(e,j,k,l,m,n),o.focusWithoutScrolling()})})}}(jQuery);var intro={init:function(){$(window).width()>768&&$(window).height()>768&&$(".full").height($(window).height()),$("section").waypoint(function(){var a=$(this).attr("id");$("#main-nav li").removeClass("current"),$('#main-nav a[href$="'+a+'"]').parent().addClass("current")},{offset:100}),$("#main-nav a").click(function(){return $(this).parent().hasClass("mobile-menu-item")&&($(this).parent().parent().find("li").not(".mobile-menu").not(".ping-pong").toggle(),$("#main-nav").toggleClass("open")),$(this).parent().hasClass("mobile-menu")?(console.log($(this).parent()),$(this).parent().parent().find("li").not(".mobile-menu").not(".ping-pong").toggle(),$(this).parent().parent().find("li").not(".ping-pong").toggleClass("mobile-menu-item"),!1):void $(this).parent().addClass("current")})}},attendees={init:function(){$.getJSON("https://api.meetup.com/ew/rsvps?key=1c47d247b19344051f2b5a567573&sign=true&event_id=1114922&page=120&callback=?",function(a){for(var b=a.results.length,c=$(".whos-attending ul"),d=0;b>d;d++)if(a.results[d].member_photo){var e=a.results[d].member_photo.photo_link,f=a.results[d].member.member_id,g='\n					<li>\n						<a href="http://www.meetup.com/members/'+f+'" target="_blank">\n							<img src="'+e+'" class="avatar" />\n						</a>\n					</li>';c.append(g)}})}},pongGame={init:function(){$(".pong-game").css("height",window.innerHeight-50),$(".pong-game").css("width",window.innerWidth),$(".ping-pong a").click(function(){return $(this).parent().hasClass("svg-ping-pong-paddle-close")?($(".pong-game").pong("img/circle.gif"),$(".pong-game").addClass("hidden")):($(".pong-game").pong("img/circle.gif"),$(".pong-game").removeClass("hidden")),$(this).parent().toggleClass("svg-ping-pong-paddle"),$(this).parent().toggleClass("svg-ping-pong-paddle-close"),!1})}};$(function(){intro.init(),attendees.init(),pongGame.init()});